# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

"""Data from AniList"""
type Anilist {
  banner: String
  imageLarge: String!
  imageMedium: String!
  title: String!
}

type Anime {
  anidbId: Int
  anilist: Anilist
  anilistUrl: String!
  entries: [Entry!]!

  """AniList ID"""
  id: Int!
  malScore: Float
  names: [String!]!
  score: Int
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type Entry {
  accepted: Boolean!
  anime: Anime!
  createdAt: DateTime!
  episode: Int!
  fileName: String!
  group: Group!
  hash: String!
  id: ID!
  images: [Image!]!
  source: String!
  sourceUri: String!
  updatedAt: DateTime!
}

type Group {
  createdAt: DateTime!
  id: ID!
  name: String!
  updatedAt: DateTime!
}

type Image {
  createdAt: DateTime!
  id: ID!
  timestamp: Timestamp!
  updatedAt: DateTime!
  url: String!
}

type Job {
  anime: Anime!
  createdAt: DateTime!
  episode: Int!
  fileName: String!
  group: Group!
  hash: String!

  """A mapping for `hash`, useful in caching"""
  id: ID!
  inProgress: Boolean!
  source: String!
  sourceUri: String!
  timestamps: [Timestamp!]!
}

type JobPage {
  items: [Job!]!
  nextOffset: Int
  total: Int!
}

type Mutation {
  addWorker(host: String!, name: String!): Worker!
  confirmWorker(port: Int!, token: String!): Boolean!
  createJob(animeId: Int!, fileName: String, source: String!, timestamps: [Timestamp!]): Job!
}

type Query {
  anime(id: Float!): Anime
  entries(animeId: Float!): [Entry!]!
  jobQueue(
    """Maximum 20"""
    limit: Int = 20
    offset: Int = 0
  ): JobPage!
  recentlyAdded: [Entry!]!
  workers: [Worker!]!
}

"""A timestamp in the format `[HH:]MM:SS[.xxxx]`"""
scalar Timestamp

type Worker {
  confirmed: Boolean!
  createdAt: DateTime!
  currentJob: Job
  enabled: Boolean!
  host: String!
  id: ID!
  name: String!
  online: Boolean!
  token: String!
  updatedAt: DateTime!
}
